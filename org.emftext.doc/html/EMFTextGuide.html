<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"  
  "http://www.w3.org/TR/html4/loose.dtd">  
<html > 
<head><title></title> 
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"> 
<meta name="generator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<meta name="originator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<!-- html --> 
<meta name="src" content="EMFTextGuide.tex"> 
<meta name="date" content="2010-09-12 22:03:00"> 
<link rel="stylesheet" type="text/css" href="EMFTextGuide.css"> 
</head><body 
>
  <div class="titlepage">
                                                                                     

                                                                                     
                                                                                     

                                                                                     
<!--l. 65--><p class="indent" >
                                                                                     

                                                                                     

<!--l. 75--><p class="noindent" ><img 
src="figures/EMFTextLogo.png" alt="PIC"  
>
<!--l. 81--><p class="noindent" ><span 
class="phvr8t-x-x-400">USER GUIDE</span>
                                                                                     <div class="flushright" 
>
<!--l. 86--><p class="noindent" > 
<span 
class="aer12-">September 12, 2010</span></div>
                                                                                     

                                                                                     
  </div>
                                                                                     

                                                                                     
                                                                                     

                                                                                     
                                                                                     

                                                                                     
                                                                                     

                                                                                     
  <h2 class="likechapterHead"><a 
 id="x1-1000"></a>Contents</h2>
  <div class="tableofcontents">
  <span class="chapterToc" >1&#x00A0;&#x00A0;<a 
href="#x1-20001" id="QQ2-1-2">Overview</a></span>
<br />  &#x00A0;<span class="sectionToc" >1.1&#x00A0;&#x00A0;<a 
href="#x1-30001.1" id="QQ2-1-3">Generation features</a></span>
<br />  &#x00A0;<span class="sectionToc" >1.2&#x00A0;&#x00A0;<a 
href="#x1-40001.2" id="QQ2-1-4">Specification features</a></span>
<br />  &#x00A0;<span class="sectionToc" >1.3&#x00A0;&#x00A0;<a 
href="#x1-50001.3" id="QQ2-1-5">Editor features</a></span>
<br />  &#x00A0;<span class="sectionToc" >1.4&#x00A0;&#x00A0;<a 
href="#x1-60001.4" id="QQ2-1-6">Other features</a></span>
<br />  <span class="chapterToc" >2&#x00A0;&#x00A0;<a 
href="#x1-70002" id="QQ2-1-7">Getting Started with EMFText</a></span>
<br />  &#x00A0;<span class="sectionToc" >2.1&#x00A0;&#x00A0;<a 
href="#x1-80002.1" id="QQ2-1-10">Specifying a Language Metamodel</a></span>
  </div>
                                                                                     

                                                                                     
                                                                                     

                                                                                     
                                                                                     

                                                                                     
                                                                                     

                                                                                     
  <h2 class="chapterHead"><span class="titlemark">1</span>&#x00A0;&#x00A0;<a 
 id="x1-20001"></a>Overview</h2>
<!--l. 2--><p class="noindent" >EMFText is a tool for defining textual syntax for Ecore-based metamodels. It enables developers to
define their own textual languages&#8212;be it domain specific languages (e.g., a language for describing
forms) or general purpose languages (e.g., Java)&#8212;and generates accompanying tool support for these
languages. It provides a domain specific language (DSL) for syntax specification from
which it generates a full-fledged Eclipse editor and components to load and store model
instances.
<!--l. 10--><p class="indent" >  To give a quick overview, some of the most compelling features of EMFText are outlined in the
following.
  <h3 class="sectionHead"><span class="titlemark">1.1</span>&#x00A0;&#x00A0;<a 
 id="x1-30001.1"></a>Generation features</h3>
<!--l. 14--><p class="noindent" >EMFText uses a generative approach where all artifacts that form the tooling for a textual language
are generated. This includes a parser for loading textual models, a printer for storing model instances
and the editor with all its customizable components.
     <dl class="description"><dt class="description">
<span 
class="aessbx-10x-x-109">Generation of independent code</span> </dt><dd 
class="description">The code that is generated by EMFText does not contain
     dependencies to EMFText and is fully customizable. This implies that generated language
     tooling can be deployed in environments where EMFText is not available and that future
     compatibility issues are completely avoided.
     </dd><dt class="description">
<span 
class="aessbx-10x-x-109">Generation of default syntaxes</span> </dt><dd 
class="description">With EMFText, initial syntaxes for the textual DSL can be
     generated in one step for any Ecore-based metamodel. One can either generate a syntax
     that  conforms  to  the  HUTN  standard&#x00A0;<span class="cite">[<span 
class="aebx-10x-x-109">?</span>]</span>  or  a  Java-like  syntax.  In  both  cases,  the
     initial, generated specification of the syntax can be further tailored towards specific needs
     (cf.&#x00A0;Section&#x00A0;<span 
class="aebx-10x-x-109">??</span>).
     </dd><dt class="description">
<span 
class="aessbx-10x-x-109">Highly customizable code generation</span> </dt><dd 
class="description">EMFText provides many options for tailoring its code
     generation  process  to  specific  needs.  For  example,  manually  modified  code  can  be
     preserved by disabling its generation or custom license headers can be provided if needed
     (cf.&#x00A0;Appendix&#x00A0;<a 
href="#x1-30001.1">1.1<!--tex4ht:ref: app:options --></a>).
     </dd></dl>
<!--l. 44--><p class="noindent" >
  <h3 class="sectionHead"><span class="titlemark">1.2</span>&#x00A0;&#x00A0;<a 
 id="x1-40001.2"></a>Specification features</h3>
<!--l. 46--><p class="noindent" >EMFText comes with a simple but rich syntax specification language&#8212;the <span 
class="aesl-10x-x-109">Concrete Syntax</span>
<span 
class="aesl-10x-x-109">Specification Language (CS)</span>. It is based on EBNF and follows the concept of <span 
class="aesl-10x-x-109">convention over</span>
<span 
class="aesl-10x-x-109">configuration</span>. This allows for very compact and intuitive syntax specifications, but still supports
tweaking specifics where needed (cf.&#x00A0;Chapter&#x00A0;<span 
class="aebx-10x-x-109">??</span>).
                                                                                     

                                                                                     
     <dl class="description"><dt class="description">
<span 
class="aessbx-10x-x-109">Modular specification</span> </dt><dd 
class="description">EMFText  provides  an  import  mechanism  that  not  only  supports
     specification of a single text syntax for multiple related Ecore models, but also allows for
     modularization and extension of CS specifications (cf.&#x00A0;Section&#x00A0;<span 
class="aebx-10x-x-109">??</span>).
     </dd><dt class="description">
<span 
class="aessbx-10x-x-109">Default reference resolving mechanisms</span> </dt><dd 
class="description">A default name resolution mechanism for models
     with globally unique names is available out of the box for any syntax. Also, external
     references are resolved automatically, if URIs are used to point to the referenced elements.
     More  complex  resolution  mechanisms  can  be  realized  by  implementing  generated
     resolving methods (cf.&#x00A0;Section&#x00A0;<span 
class="aebx-10x-x-109">??</span>).
     </dd><dt class="description">
<span 
class="aessbx-10x-x-109">Comprehensive syntax analysis</span> </dt><dd 
class="description">A  number  of  analyses  of  CS  specifications  inform  the
     developer about potential errors in the syntax&#8212;like missing syntax for certain metaclasses
     (cf.&#x00A0;Appendix&#x00A0;<span 
class="aebx-10x-x-109">??</span>).
     </dd></dl>
<!--l. 75--><p class="noindent" >
  <h3 class="sectionHead"><span class="titlemark">1.3</span>&#x00A0;&#x00A0;<a 
 id="x1-50001.3"></a>Editor features</h3>
<!--l. 77--><p class="noindent" >Editors generated by EMFText provide many advanced features that are known from, e.g., the
Eclipse Java editor. This includes code completion (with customizable completion proposals
cf.&#x00A0;Section&#x00A0;<span 
class="aebx-10x-x-109">??</span> and Section&#x00A0;<span 
class="aebx-10x-x-109">??</span>), customizable syntax and occurrence highlighting via preference
pages, advanced bracket handling, code folding, hyperlinks and text hovers for quick navigation, an
outline view and instant error reporting.
<!--l. 85--><p class="noindent" >
  <h3 class="sectionHead"><span class="titlemark">1.4</span>&#x00A0;&#x00A0;<a 
 id="x1-60001.4"></a>Other features</h3>
<!--l. 87--><p class="noindent" >EMFText provides numerous other interesting features, some of them outlined below.
     <dl class="description"><dt class="description">
<span 
class="aessbx-10x-x-109">ANT support</span> </dt><dd 
class="description">Dedicated  ANT  tasks  are  provided  to  allow  the  generation  of  text  syntax
     plug-ins in build scripts (cf.&#x00A0;Section&#x00A0;<span 
class="aebx-10x-x-109">??</span>).
     </dd><dt class="description">
<span 
class="aessbx-10x-x-109">Support for post processors</span> </dt><dd 
class="description">By default, registered post processors are called by the tooling
     after parsing. These post processors can be customized to check consistency of models or
     perform necessary modifications after parsing (cf.&#x00A0;Section&#x00A0;<span 
class="aebx-10x-x-109">??</span>).
     </dd><dt class="description">
<span 
class="aessbx-10x-x-109">Generation of builder stubs</span> </dt><dd 
class="description">EMFText generates a builder stub that can be used to process
     model instances on changes and to automatically produce derived resources when needed
                                                                                     

                                                                                     
     (cf.&#x00A0;Section&#x00A0;<span 
class="aebx-10x-x-109">??</span>).
     </dd><dt class="description">
<span 
class="aessbx-10x-x-109">Generation of interpreter stubs</span> </dt><dd 
class="description">Similarly, interpreters are used to execute model instances
     (cf.&#x00A0;Section&#x00A0;<span 
class="aebx-10x-x-109">??</span>).
     </dd><dt class="description">
<span 
class="aessbx-10x-x-109">Quick fixes</span> </dt><dd 
class="description">Quick fixes provide actions that can automatically solve problems found during
     analysis of model instances. EMFText provides means to attach quick fixes to reported
     problems which then can be fixed by the developer in a convenient way (cf.&#x00A0;Section&#x00A0;<span 
class="aebx-10x-x-109">??</span>).
     </dd></dl>
                                                                                     

                                                                                     
<!--l. 1--><p class="noindent" >
                                                                                     

                                                                                     
  <h2 class="chapterHead"><span class="titlemark">2</span>&#x00A0;&#x00A0;<a 
 id="x1-70002"></a>Getting Started with EMFText</h2>
<!--l. 3--><p class="noindent" >Generating an advanced Eclipse editor for a new language with EMFText just requires a few
specifications and a generation step. Basically, a language specification for EMFText consists of a
language metamodel and a concrete syntax specification. Taking these specifications the EMFText
generator derives an advanced textual editor, that uses a likewise generated parser and printer to
parse language expressions to EMF models or to print EMF models to languages expressions
respectively.
<!--l. 11--><p class="indent" >  <hr class="figure"><div class="figure" 
>
                                                                                     

                                                                                     
<a 
 id="x1-70011"></a>
                                                                                     

                                                                                     

<!--l. 16--><p class="noindent" ><img 
src="figures/process.png" alt="PIC"  
>
<br /> <div class="caption"><table class="caption" 
><tr style="vertical-align:baseline;" class="caption"><td class="id">Figure&#x00A0;2.1: </td><td  
class="content">Iterative EMFText language development process.</td></tr></table></div><!--tex4ht:label?: x1-70011 -->
                                                                                     

                                                                                     
<!--l. 20--><p class="indent" >  </div><hr class="endfigure">
<!--l. 22--><p class="noindent" >The basic language development process with EMFText is depicted in Fig. <a 
href="#x1-70011">2.1<!--tex4ht:ref: fig:process --></a>. It is an iterative
process that can be passed several times and consists of the following basic tasks:
     <dl class="description"><dt class="description">
<span 
class="aessbx-10x-x-109">(1)</span> </dt><dd 
class="description">Specifying a Language Metamodel,
     </dd><dt class="description">
<span 
class="aessbx-10x-x-109">(2)</span> </dt><dd 
class="description">Specifying the Language&#8217;s Concrete Syntax,
     </dd><dt class="description">
<span 
class="aessbx-10x-x-109">(3)</span> </dt><dd 
class="description">Generating the Language Tooling,
     </dd><dt class="description">
<span 
class="aessbx-10x-x-109">(4)</span> </dt><dd 
class="description">Optionally Customising the Language Tooling.</dd></dl>
<!--l. 34--><p class="indent" >  Each of the these tasks will be explained and exemplified in the subsequent sections:
<!--l. 37--><p class="indent" >  <hr class="figure"><div class="figure" 
>
                                                                                     

                                                                                     
<a 
 id="x1-70022"></a>
                                                                                     

                                                                                     

<!--l. 42--><p class="noindent" ><img 
src="figures/wizard.png" alt="PIC"  
>
<br /> <div class="caption"><table class="caption" 
><tr style="vertical-align:baseline;" class="caption"><td class="id">Figure&#x00A0;2.2: </td><td  
class="content">EMFText Project wizard.</td></tr></table></div><!--tex4ht:label?: x1-70022 -->
                                                                                     

                                                                                     
<!--l. 46--><p class="indent" >  </div><hr class="endfigure">
<!--l. 50--><p class="indent" >  To kick-start the development of a new language you can use the EMFText project wizard. Select
<span 
class="aesl-10x-x-109">File &#x003E; New &#x003E; Other... &#x003E; EMFText Project</span>. In the Wizard (cf. Fig. <a 
href="#x1-70022">2.2<!--tex4ht:ref: fig:wizard --></a>) you just enter the language
name and EMFText will initialise a new EMFText Project containing a metamodel folder that holds
an initial metamodel and syntax specification.
  <h3 class="sectionHead"><span class="titlemark">2.1</span>&#x00A0;&#x00A0;<a 
 id="x1-80002.1"></a>Specifying a Language Metamodel</h3>
<!--l. 58--><p class="noindent" >As EMFText is tightly integrated with the Eclipse Modeling Framework (EMF)&#x00A0;<span class="cite">[<span 
class="aebx-10x-x-109">?</span>]</span> language
metamodels are specified using the Ecore Metamodelling Language. The metamodel specifies the
abstract syntax of a new language. It can be build from <span 
class="aesl-10x-x-109">classes </span>with <span 
class="aesl-10x-x-109">attributes </span>that are related using
<span 
class="aesl-10x-x-109">references</span>. References are further distinguished into <span 
class="aesl-10x-x-109">containment </span>references and <span 
class="aesl-10x-x-109">non-containment</span>
references. It is important to notice this difference, as both reference types have different
semantics in EMF and are also handled differently in EMFText. Containment references
are used to relate a parent model element and a child model element that is declared
in the context of the parent element. An example which can be found for instance in
object-oriented programming languages is the declaration of a method within the body of a
class declaration. Non-containment references are used to relate a model element with an
element that is declared elsewhere (not as one of its children). An example for programming
languages is a method call (declared in a statement in the body of a method declaration) that
relates to the method that it calls using a non-containment reference. The referenced
method, however, is declared elsewhere: In a class the method relates to with a containment
reference.
<!--l. 76--><p class="indent" >  <span 
class="aesl-10x-x-109">Example. </span>To define a metamodel for a language, we have to consider the concepts this language
deals with, how they interrelate and what attributes they have. In the following we discuss the
concepts of an exemplary language to specify forms and how they are represented in a forms
metamodel.
     <ul class="itemize1">
     <li class="itemize">A Form (class) has a caption (attribute) and contains (containment reference) a number
     of question Groups (class).
     </li>
     <li class="itemize">Each Group has a name (attribute) and contains (containment reference) a number of
     question Items (class).
     </li>
     <li class="itemize">Each Item has a question text (attribute) and an explanation (attribute).
     </li>
     <li class="itemize">There  are  various  Types  (class)  of  question  items  with  regard  to  the  answer  values
     they expect: e.g., Text questions (subclass), Date questions (subclass), Number questions
     (subclass), Choices (subclass), or Decisions (subclass).
     </li>
     <li class="itemize">Choices and Decisions declare (containment reference) a number of selection Options
     (class).
                                                                                     


